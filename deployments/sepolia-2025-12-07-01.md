# ECS V2 Sepolia Deployment - December 7, 2025 (Deployment 01)

**Version:** 0.2.1-beta  
**Network:** Sepolia (Chain ID: 11155111)  
**Deployment Date:** December 7, 2025  
**Deployment Number:** 01

## üéâ New Features

### Resolver Review System
- **Admin-controlled review field** for resolver trust ratings
- `getResolverInfo()` now returns `(label, resolverUpdated, review)`
- `setResolverReview()` function restricted to ADMIN_ROLE
- Enables ECS protocol to assign trust scores, certifications, or audit statuses
- Example: `"Status: Verified, Audit Score: 85/100, Date: 2025-04-21"`

### OwnableUpgradeable for Clones
- **Proper upgradeable pattern** for EIP-1167 minimal clones
- Uses `Initializable` and `OwnableUpgradeable` from OpenZeppelin
- Better initialization guards with `initializer` modifier
- Follows best practices for clone/proxy patterns

### Continued Features from 0.2.0
- **91% gas savings** for resolver deployments with minimal clones
- Resolver tracking with `resolverUpdated` timestamp
- Security-conscious credential resolution

## üì¶ Deployed Contracts

| Contract | Address | Status |
|----------|---------|--------|
| **ECSRegistry** | [`0xb09C149664773bFA88B72FA41437AdADcB8bF5B4`](https://sepolia.etherscan.io/address/0xb09C149664773bFA88B72FA41437AdADcB8bF5B4) | ‚úÖ Verified |
| **ECSRegistrar** | [`0xD1399C6879EA5A92eB25ee8A0512c7a4fC0DDc6b`](https://sepolia.etherscan.io/address/0xD1399C6879EA5A92eB25ee8A0512c7a4fC0DDc6b) | ‚úÖ Verified |
| **CredentialResolver (Implementation)** | [`0x9eC339D221dB86e5bcfB12B7861b3F8e41a5D5d9`](https://sepolia.etherscan.io/address/0x9eC339D221dB86e5bcfB12B7861b3F8e41a5D5d9) | ‚úÖ Verified |
| **CredentialResolverFactory** | [`0x9b2d7A50bb15F5147c2cf46f05FBfD0E931AB77A`](https://sepolia.etherscan.io/address/0x9b2d7A50bb15F5147c2cf46f05FBfD0E931AB77A) | ‚úÖ Verified |
| **CredentialResolver (Clone)** | [`0xc8028D202838FF7D14835c75906A07839837C160`](https://sepolia.etherscan.io/address/0xc8028D202838FF7D14835c75906A07839837C160) | Deployed |

## üìä Deployment Transactions

### 1. Configure Parameters
- **Transaction:** [`0x393b8cccef21878afd4eb218400f095d739bf401b9462f26d792175c64beb060`](https://sepolia.etherscan.io/tx/0x393b8cccef21878afd4eb218400f095d739bf401b9462f26d792175c64beb060)
- **Block:** 9792011
- **Gas Used:** 48,273
- **Cost:** 0.000000048273386184 ETH

### 2. Deploy ECSRegistry
- **Transaction:** [`0x1e95c621bda0d7d7bb6cefe1bea26b5ff05563232c36bf5268333846c8a5ad65`](https://sepolia.etherscan.io/tx/0x1e95c621bda0d7d7bb6cefe1bea26b5ff05563232c36bf5268333846c8a5ad65)
- **Block:** 9792011
- **Gas Used:** 2,865,952
- **Cost:** 0.000002865974927616 ETH

### 3. Deploy ECSRegistrar
- **Transaction:** [`0xe23ebb219c95a7e450d42da5737f6e1f3b83c01ae9342cb23fb18c56449d81fa`](https://sepolia.etherscan.io/tx/0xe23ebb219c95a7e450d42da5737f6e1f3b83c01ae9342cb23fb18c56449d81fa)
- **Block:** 9792011
- **Gas Used:** 2,540,718
- **Cost:** 0.000002540738325744 ETH

### 4. Grant REGISTRAR_ROLE
- **Transaction:** [`0x148f849dfc8122bb0de58ea94012f512cffc5d623654ffa87b74bd04330b2092`](https://sepolia.etherscan.io/tx/0x148f849dfc8122bb0de58ea94012f512cffc5d623654ffa87b74bd04330b2092)
- **Block:** 9792011
- **Gas Used:** 69,388
- **Cost:** 0.000000069388555104 ETH

### 5. Deploy CredentialResolverFactory
- **Transaction:** [`0x7a8ac36141ff1df3d4b016a4a12cb4529ab92bcafcdb7dce601d774b7d45ce7d`](https://sepolia.etherscan.io/tx/0x7a8ac36141ff1df3d4b016a4a12cb4529ab92bcafcdb7dce601d774b7d45ce7d)
- **Block:** 9792011
- **Gas Used:** 744,356
- **Cost:** 0.000000744361954848 ETH

### 6. Set Pricing
- **Transaction:** [`0xdf8269a36d681001be4673bb5d08763188e3c1d79f2270b9b5c97bd471d9e288`](https://sepolia.etherscan.io/tx/0xdf8269a36d681001be4673bb5d08763188e3c1d79f2270b9b5c97bd471d9e288)
- **Block:** 9792011
- **Gas Used:** 184,878
- **Cost:** 0.000000184879479024 ETH

### 7. Deploy CredentialResolver Implementation
- **Transaction:** [`0x077f062a8304070eb6087f407bf93dc9f61a473da3e2996b9cafd645ed0d52d3`](https://sepolia.etherscan.io/tx/0x077f062a8304070eb6087f407bf93dc9f61a473da3e2996b9cafd645ed0d52d3)
- **Block:** 9792011
- **Gas Used:** 2,259,159
- **Cost:** 0.000002259177073272 ETH

### 8. Create Resolver Clone
- **Transaction:** [`0x10e36e8e7e9c076749a2a34fe8cdfac517b6ccece6fe242ee6a061df00a97688`](https://sepolia.etherscan.io/tx/0x10e36e8e7e9c076749a2a34fe8cdfac517b6ccece6fe242ee6a061df00a97688)
- **Block:** 9792011
- **Gas Used:** 52,042
- **Cost:** 0.000000052042416336 ETH

### 9. Commit Registration
- **Transaction:** [`0x992e404f9b1bf78953831e3fe656c0bd28d56a0e48615d9b4dc40948a7cfa83f`](https://sepolia.etherscan.io/tx/0x992e404f9b1bf78953831e3fe656c0bd28d56a0e48615d9b4dc40948a7cfa83f)
- **Block:** 9792011
- **Gas Used:** 44,352
- **Cost:** 0.000000044352354816 ETH

## üí∞ Total Deployment Cost

- **Total Gas Used:** 8,809,118 gas
- **Average Gas Price:** 0.001000008 gwei
- **Total Cost:** 0.000008809188472944 ETH (~$0.03 USD)

## ‚öôÔ∏è Configuration

- **Root Name:** `ecs.eth`
- **Root Node:** `0xe436ba58406c69a63a9611a11eb52314c5c17ba9eaaa7dab8506fe8849517286`
- **Pricing:** ~0.001 ETH/year per name
- **Min Duration:** 60 seconds
- **Max Duration:** 18446744073709551615 seconds
- **Min Length:** 3 characters
- **Max Length:** 64 characters

## üîê Commitment Details

- **Label:** `name-stars`
- **Duration:** 31536000 seconds (1 year)
- **Secret:** `0x4fc2534a2cfadd15743fd2ff50ac4b97e7af48a05913ca9c481a4b8bdf91dfeb`
- **Commitment Hash:** `0x1a0db993c494b1348e41a154b0d57636ad1457b5d1b7e407dcb18a19c304b763`

## üìù Next Steps

1. **Wait at least 60 seconds** before proceeding
2. **Run RegisterAndSetup script** with the same SECRET
3. **Update ENS Manager:**
   - Go to [app.ens.domains](https://app.ens.domains)
   - Navigate to `ecs.eth`
   - Set Manager to: `0xb09C149664773bFA88B72FA41437AdADcB8bF5B4`

## üß™ Testing

All 79 tests passed:
- ‚úÖ 22 ECSRegistry tests (including 3 new review system tests)
- ‚úÖ 15 ECSRegistrar tests
- ‚úÖ 21 CredentialResolver tests
- ‚úÖ 12 CredentialResolverFactory tests
- ‚úÖ 5 Integration tests
- ‚úÖ 4 Security tests

## üîó Links

- **GitHub:** [nxt3d/ecs](https://github.com/nxt3d/ecs)
- **NPM Package:** [@nxt3d/ecsjs@0.2.2-beta](https://www.npmjs.com/package/@nxt3d/ecsjs)
- **Documentation:** [README.md](https://github.com/nxt3d/ecs/blob/main/README.md)

## üõ†Ô∏è Resolver Review System Usage

Set a review for a resolver (admin only):

```solidity
// Connect to registry
ECSRegistry registry = ECSRegistry(0xb09C149664773bFA88B72FA41437AdADcB8bF5B4);

// Set review (admin only)
string memory review = "Status: Verified, Audit Score: 85/100, Date: 2025-04-21";
registry.setResolverReview(resolverAddress, review);

// Get resolver info with review
(string memory label, uint128 updated, string memory review) = registry.getResolverInfo(resolverAddress);
```

## üìà Improvements Over v0.2.0-beta

1. **Resolver Review System** - Admin-controlled trust ratings for resolvers
2. **OwnableUpgradeable Pattern** - Proper initialization guards for clones
3. **Enhanced Testing** - 3 additional tests for review functionality
4. **Updated Documentation** - Review system examples and best practices
5. **Better Type Safety** - Uses OpenZeppelin's `Initializable` modifier

## üîß Breaking Changes

### getResolverInfo Return Value
**v0.2.0:** Returns `(string label, uint128 resolverUpdated)`  
**v0.2.1:** Returns `(string label, uint128 resolverUpdated, string review)`

Clients must update to handle the third return value.

### CredentialResolver Constructor
**v0.2.0:** `constructor(address _owner)`  
**v0.2.1:** `constructor()` + `initialize(address _owner)`

Direct deployments must call `initialize()` after construction.

---

**Deployed by:** 0xF8e03bd4436371E0e2F7C02E529b2172fe72b4EF  
**Date:** December 7, 2025  
**ECS Version:** 0.2.1-beta


