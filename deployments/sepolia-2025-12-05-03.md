# ECS V2 Sepolia Deployment - December 5, 2025 (Deployment 03)

**Version:** 0.2.0-beta  
**Network:** Sepolia (Chain ID: 11155111)  
**Deployment Date:** December 5, 2025  
**Deployment Number:** 03 (Third deployment today)

## üéâ New Features

### Minimal Clone Factory (EIP-1167)
- **91% gas savings** for resolver deployments
- Regular deployment: 1,979,622 gas (~$50-100)
- Clone deployment: 168,798 gas (~$5)
- Each label can have its own gas-efficient resolver clone

### Resolver Tracking
- Tracks last resolver change with `resolverUpdated` timestamp
- Enables clients to implement trust policies
- Supports security-conscious credential resolution

## üì¶ Deployed Contracts

| Contract | Address | Status |
|----------|---------|--------|
| **ECSRegistry** | [`0x4f2F0e7b61d9Bd0e30F186D6530Efc92429Fcc77`](https://sepolia.etherscan.io/address/0x4f2F0e7b61d9Bd0e30F186D6530Efc92429Fcc77) | ‚úÖ Verified |
| **ECSRegistrar** | [`0x3f971176d86f223bB8A664F7ce006B818d1D5649`](https://sepolia.etherscan.io/address/0x3f971176d86f223bB8A664F7ce006B818d1D5649) | ‚úÖ Verified |
| **CredentialResolver (Implementation)** | [`0x04c55c4CCAf0b7bb2e00bc3ea72a92585FE35683`](https://sepolia.etherscan.io/address/0x04c55c4CCAf0b7bb2e00bc3ea72a92585FE35683) | ‚úÖ Verified |
| **CredentialResolverFactory** | [`0x3d9BFC750F1eb7EDaDA2DB0e5dE0F763c30446c1`](https://sepolia.etherscan.io/address/0x3d9bfc750f1eb7edada2db0e5de0f763c30446c1) | ‚úÖ Verified |
| **CredentialResolver (Clone)** | [`0x9773397bd9366D80dAE708CA4C4413Abf88B3DAa`](https://sepolia.etherscan.io/address/0x9773397bd9366D80dAE708CA4C4413Abf88B3DAa) | Deployed |

## üìä Deployment Transactions

### 1. Deploy ECSRegistry
- **Transaction:** [`0x554d6c30981a782991acedb3d30a17ebe8222c5dfb3abad00acdfc3b4f980920`](https://sepolia.etherscan.io/tx/0x554d6c30981a782991acedb3d30a17ebe8222c5dfb3abad00acdfc3b4f980920)
- **Block:** 9776724
- **Gas Used:** 2,628,294
- **Cost:** 0.000002628317654646 ETH

### 2. Deploy ECSRegistrar
- **Transaction:** [`0x5885ff6aefc86b1ead62e1e6463d3f14428f1e8dc5cd97f7d1b4b30daf8d274d`](https://sepolia.etherscan.io/tx/0x5885ff6aefc86b1ead62e1e6463d3f14428f1e8dc5cd97f7d1b4b30daf8d274d)
- **Block:** 9776724
- **Gas Used:** 2,540,718
- **Cost:** 0.000002540740866462 ETH

### 3. Deploy CredentialResolver Implementation
- **Transaction:** [`0x951988989de12c95dfb8442e63959a780fdbbfe5ab6655ddb842da3ff960b5f6`](https://sepolia.etherscan.io/tx/0x951988989de12c95dfb8442e63959a780fdbbfe5ab6655ddb842da3ff960b5f6)
- **Block:** 9776724
- **Gas Used:** 2,153,581
- **Cost:** 0.000002153600382229 ETH

### 4. Deploy CredentialResolverFactory
- **Transaction:** [`0x44debffcd8bb0b5f708a843c119816c3cb2094c9418d87498b99f1f62e051b91`](https://sepolia.etherscan.io/tx/0x44debffcd8bb0b5f708a843c119816c3cb2094c9418d87498b99f1f62e051b91)
- **Block:** 9776724
- **Gas Used:** 744,344
- **Cost:** 0.000000744350699096 ETH

### 5. Grant REGISTRAR_ROLE
- **Transaction:** [`0x81b3b07ef1ddfb84b5d8e736a976abe118707383b241ca73bc21c73e7d30ef37`](https://sepolia.etherscan.io/tx/0x81b3b07ef1ddfb84b5d8e736a976abe118707383b241ca73bc21c73e7d30ef37)
- **Block:** 9776724
- **Gas Used:** 181,583
- **Cost:** 0.000000181584634247 ETH

### 6. Configure Registrar Parameters
- **Transaction:** [`0xaae7e88e98bfb625eea6825e7b7308388d19e906206ab24a2f69c2c4c831dd50`](https://sepolia.etherscan.io/tx/0xaae7e88e98bfb625eea6825e7b7308388d19e906206ab24a2f69c2c4c831dd50)
- **Block:** 9776724
- **Gas Used:** 48,273
- **Cost:** 0.000000048273434457 ETH

### 7. Set Pricing
- **Transaction:** [`0x042a5d843fc1b2612f434d944ef4ed8040dfb6cb18593427c10e18094bac759e`](https://sepolia.etherscan.io/tx/0x042a5d843fc1b2612f434d944ef4ed8040dfb6cb18593427c10e18094bac759e)
- **Block:** 9776724
- **Gas Used:** 44,352
- **Cost:** 0.000000044352399168 ETH

### 8. Create Resolver Clone
- **Transaction:** [`0xbc02c785a925d82cc08aa57961c52bc0e7cef65e704a281447de48c8ae3f6f46`](https://sepolia.etherscan.io/tx/0xbc02c785a925d82cc08aa57961c52bc0e7cef65e704a281447de48c8ae3f6f46)
- **Block:** 9776724
- **Gas Used:** 69,388
- **Cost:** 0.000000069388624492 ETH

### 9. Commit Registration
- **Transaction:** [`0x3aa1b6f32e196e866922c53ad95b8123f3f7d71a015161244a8b28f6cf019565`](https://sepolia.etherscan.io/tx/0x3aa1b6f32e196e866922c53ad95b8123f3f7d71a015161244a8b28f6cf019565)
- **Block:** 9776724
- **Gas Used:** 52,008
- **Cost:** 0.000000052008468072 ETH

## üí∞ Total Deployment Cost

- **Total Gas Used:** 8,462,541 gas
- **Average Gas Price:** 0.001000009 gwei
- **Total Cost:** 0.000008462617162869 ETH (~$0.03 USD)

## ‚öôÔ∏è Configuration

- **Root Name:** `ecs.eth`
- **Root Node:** `0xe436ba58406c69a63a9611a11eb52314c5c17ba9eaaa7dab8506fe8849517286`
- **Pricing:** ~0.001 ETH/year per name
- **Min Duration:** 60 seconds
- **Max Duration:** 18446744073709551615 seconds
- **Min Length:** 3 characters
- **Max Length:** 64 characters

## üîê Commitment Details

- **Label:** `name-stars`
- **Duration:** 31536000 seconds (1 year)
- **Secret:** `0x3c332d87023a297e533d5224579a766b02c3a86b61d91841636d314dda1ea933`
- **Commitment Hash:** `0xe8d2797bcdff4b90fa5dd34bce28c79193129068bdcfce9fdff133d81238cc6d`

## üìù Next Steps

1. **Wait at least 60 seconds** before proceeding
2. **Run RegisterAndSetup script** with the same SECRET
3. **Update ENS Manager:**
   - Go to [app.ens.domains](https://app.ens.domains)
   - Navigate to `ecs.eth`
   - Set Manager to: `0x4f2F0e7b61d9Bd0e30F186D6530Efc92429Fcc77`

## üß™ Testing

All 76 tests passed:
- ‚úÖ 19 ECSRegistry tests
- ‚úÖ 15 ECSRegistrar tests
- ‚úÖ 21 CredentialResolver tests
- ‚úÖ 12 CredentialResolverFactory tests (including 4 new initialization tests)
- ‚úÖ 5 Integration tests
- ‚úÖ 4 Security tests

## üîó Links

- **GitHub:** [nxt3d/ecs](https://github.com/nxt3d/ecs)
- **NPM Package:** [@nxt3d/ecsjs@0.2.0-beta](https://www.npmjs.com/package/@nxt3d/ecsjs)
- **Documentation:** [README.md](https://github.com/nxt3d/ecs/blob/main/README.md)

## üõ†Ô∏è Factory Usage

To deploy a new resolver clone:

```solidity
// Deploy a resolver clone for a new label
address factory = 0x3d9BFC750F1eb7EDaDA2DB0e5dE0F763c30446c1;
address clone = CredentialResolverFactory(factory).createResolver(owner);
// Cost: ~169K gas (91% cheaper than regular deployment)
```

## üìà Improvements Over Deployment 02

1. **Minimal Clone Factory** - 91% gas savings for resolver deployments
2. **Zero Address Protection** - Factory validates owner addresses
3. **Initialization Tests** - 4 new tests for clone initialization security
4. **Better Documentation** - Improved deployment script output

---

**Deployed by:** 0xF8e03bd4436371E0e2F7C02E529b2172fe72b4EF  
**Date:** December 5, 2025  
**ECS Version:** 0.2.0-beta

